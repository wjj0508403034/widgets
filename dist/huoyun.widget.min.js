"use strict";angular.module("huoyun.widget",["ngDialog"]),angular.module("huoyun.widget").config(["ngDialogProvider",function(t){t.setDefaults({className:"ngdialog-theme-default huoyun-dialog-container",showClose:!1,closeByDocument:!1,closeByEscape:!1})}]),angular.module("huoyun.widget").controller("ConfirmDialogController",["$scope",function(t){t.onCancelButtonClicked=function(){t.ngDialogData&&"function"==typeof t.ngDialogData.onCancelButtonClicked?t.ngDialogData.onCancelButtonClicked.apply(this):t.closeThisDialog("Cancel")},t.onConfirmButtonClicked=function(){t.ngDialogData&&"function"==typeof t.ngDialogData.onConfirmButtonClicked?t.ngDialogData.onConfirmButtonClicked.apply(this):t.closeThisDialog("OK")}}]),angular.module("huoyun.widget").factory("Dialog",["$q","ngDialog",function(t,n){return{showError:function(t){return this.showConfirm({title:"错误",content:t,cancel:{visibility:!1},confirm:{text:"知道了"}})},showConfirm:function(i){var o={template:"dialog/dialog.html",controller:"ConfirmDialogController",appendClassName:i.appendClassName||"",closeByDocument:!!i.closeByDocument,data:{title:i.title||"无标题",content:i.content,templateUrl:i.templateUrl,confirmButtonText:i.confirm&&i.confirm.text||"确定",cancelButtonText:i.cancel&&i.cancel.text||"取消",confirmButtonVisibility:!(i.confirm&&!1===i.confirm.visibility),cancelButtonVisibility:!(i.cancel&&!1===i.cancel.visibility),params:i.params}},a=t.defer();return n.open(o).closePromise.then(function(t){"OK"===t.value?a.resolve():a.reject()}),a.promise}}}]),angular.module("huoyun.widget").factory("Tip",["$templateCache","$compile","$rootScope","$timeout",function(t,n,i,o){return{show:function(o){var a="tip-"+(new Date).getTime(),e=i.$new(),l=t.get("tip/tip.html");e.message=o;var c=n(l)(e);c.attr("id",a),$("body").append(c),c.show();var u=setTimeout(function(){c.fadeOut(300,function(){c.remove()}),clearTimeout(u)},1e3)}}}]),angular.module("huoyun.widget").run(["$templateCache",function(t){t.put("dialog/dialog.html",'<div class="box box-primary huoyun-dialog-content-container"><div class="box-header with-border"><h3 class="box-title"><i class="fa fa-info" aria-hidden="true"></i> <span ng-bind="ngDialogData.title"></span></h3></div><div class="box-body"><div ng-if="!ngDialogData.templateUrl" ng-bind="ngDialogData.content"></div><div ng-if="ngDialogData.templateUrl" ng-include="ngDialogData.templateUrl"></div></div><div class="box-footer"><button type="submit" ng-if="ngDialogData.cancelButtonVisibility" class="btn btn-default pull-right" ng-click="onCancelButtonClicked()" ng-bind="ngDialogData.cancelButtonText"></button> <button type="submit" ng-if="ngDialogData.confirmButtonVisibility" class="btn btn-primary pull-right" ng-click="onConfirmButtonClicked()" ng-bind="ngDialogData.confirmButtonText"></button></div></div>'),t.put("tip/tip.html",'<div class="alert alert-success alert-dismissible widget-tip"><span ng-bind="message"></span></div>')}]);